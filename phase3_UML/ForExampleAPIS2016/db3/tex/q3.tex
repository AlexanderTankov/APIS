\documentclass[]{article}
\usepackage{fullpage}
\usepackage{enumerate}
\usepackage[T1,T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[bulgarian]{babel}
\usepackage{soul}

\begin{document}
\title{Информационна система на агенция за недвижими имоти. Обобщени бележки от първо и второ интервю}
\author{Екип $\pi \approx 3.1$}

\maketitle

\begin{center}

\begin{tabular}{|l|l|}
\hline
Дата и час	& 2016-04-01, от 09:00 до 10:30 \\ \hline
Място		& офис на САП България \\ \hline
Клиент		&  \\ \hline
			& Борислав Арнаудов - собственик на стартираща агенция за недвижими имоти \\ \hline
Изпълнител	&  \\ \hline
			& Георги Димов \\ \hline
			& Цветан Цветанов \\ \hline
%			& Антон Дудов \\ \hline
			& Венцислав Конов \\ \hline
			& Александър Танков \\ \hline
			& Красимир Тренчев \\ \hline
			& Александър Велин \\ \hline
			& Анджелика Туджарска \\ \hline
			& Александър Бранев \\ \hline
%			& Мартин Стоев \\ \hline
\end{tabular}

\end{center}

\begin{enumerate}[I.]
	\item {Обща представа за системата
	
Трябва да се проектира информационна система за стартираща агенция за недвижими имоти.

Целта на информационната система е да осигури уеб интерфейс, чрез който брокерите могат да управляват своите обяви за недвижими имоти, а клиентите на агенцията (наематели и купувачи) да
имат гъвкав и удобен интерфейс за търсене на обяви за имоти по различни критерии, както и да инициират комуникация с брокера. Връзката между продавачите и наемодателите с брокер ще се осъществява извън рамките на системата.

Всички счетоводни и финансови процеси в агенцията не са предмет на информационната система.
	}
	
	\item {Функционалност на системата
		\begin{enumerate}[1.]
			\item {Достъп и акаунти

				Системата трябва да поддържа както анонимен (публичен) достъп, така и достъп на потребители, които имат създаден акаунт в системата. Всеки акаунт има следните данни:

				\begin{itemize}
					\item username (задължителен)
					\item парола (задължителен)
					\item email (задължителен)
					\item име (задължителен)
					\item телефон
					\item снимка
				\end{itemize}

Брокерските профили имат натрупан до момента рейтинг на брокера.
				
Автентифицирането на потребители да се извършва от допълнителна система, свързана с основната. Данните за потребителите да се пазят на различен от основния сървър. 
Паролите да бъдат криптирани чрез използване на "сол" и силен хеширащ алгоритъм. 


				
			}
			\item {Роли			

				Системата трябва да поддържа следните роли:
	
				\begin{itemize}
					\item {нерегистриран потребител - има права да:
						\begin{itemize}
							\item търси и разглежда обяви в сайта
							\item споделя обяви в социалните мрежи
							\item си регистрира акаунт, с потвърждение по email, за да се гарантира вярност на вписания адрес
							\item използва контакт формата за изпращане на съобщение към брокерите
							\item използва чат системата, като не му се запазва log на разговора
						\end{itemize}
					}
					\item {регистриран потребител - има права да:
						\begin{itemize}
							\item прави всички неща, които може нерегистриран потребител, освен регистрация на акаунт
							\item използва чат системата, като се запазва log на разговора
							\item ``запазва'' обяви, които е харесал във профила си
							\item променя личните си данни
							\item поиска ресет на паролата си (новата му се изпраща на мейла)
							\item подаде заявка, че иска да стане брокер
						\end{itemize}
					}
					\item {брокер - има права да:
						\begin{itemize}
							\item прави всички неща, които може регистриран потребител
							\item създава обяви за имоти
							\item редактира и премахва своите обяви за имоти
							\item променя състоянието на своите обяви (активни, неактивни, създадени)
							\item променя статуса на своя обява (нормална, VIP)
							\item комуникира през чат системата с други потребители, ако те са инициирали комуникацията
							\item получава съобщения през контакт формата към дадена обява
							\item вижда точният адрес на имота в обявите (както собствени, така и на други брокери)
							\item вижда контактната информация за собствениците на имотите в  обявите (както собствени, така и на други брокери)
							\item има право да вижда данни на даден потребител (username, email, име, телефон, снимка)
						\end{itemize}
					}
					\item {администратор (вграден в системата сервизен акаунт, единствен):
						\begin{itemize}
							\item прави всички неща, които може регистриран потребител

							\item има право да вижда списък на потребителите в системата
							\item има право да разглежда личните данни на потребителите (username, email, име, телефон, снимка)
							\item няма право да променя личните данни на потребителите (username, парола, email, име, телефон, снимка)
							\item има право да одобрява заявки на регистрирани потребители за промяна на статуса им към 'брокер'
							\item има право да премахва статуса 'брокер' от акаунти, след като е асоциирал обявите му с други брокери
							\item има право да премахва акаунти от системата, без сервизните такива (администратор, одитор)
							\item няма право да редактира съдържанието на обява
							\item има право да премахва обяви
							\item има право да променя статуса на обява (нормална, VIP)
							\item има право да променя състоянието на обява (активна, неактивна) (при премахване или промяна на статуса/състоянието на обява се нотифицира брокера - собственик на обявата)
							\item има право да променя боркера-собственик на обява
							\item получава копие от съобщенията, изпратени през контакт формата
							\item препраща получено съобщене (от контакт форма) към брокер
						\end{itemize}
					}
					\item одитор (вграден в системата сервизен акаунт, единствен) -- има права само да чете одит лога
				\end{itemize}
			}
			\item {Обяви
			
				Обявите се създават, редактират и премахват от брокер. Администраторът има право да редактира и премахва обявите на всички брокери.

				Обявите могат да бъдат активни или неактивни, като обикновенните потребители (нерегистрирани и регистрирани) виждат само активните обяви, докато неактивните обяви са видими само за брокерите и администратора.

				Обявите могат да бъдат нормални или VIP. Този статус може да се променя само ръчно от брокерите (и администратора).
				
				Обявите съдържат следните данни:
				\begin{itemize}
					\item идентификатор на брокер
					\item натрупан до момента рейтинг на обявата
					\item активна/неактивна обява 
					\item нормална/VIP обява
					\item {характеристики на имота:
						\begin{itemize}
							\item местоположение - град, квартал, улица и номер, номер на блок
							\item детайлно местоположение - град, квартал, улица и номер, номер на блок, вход, етаж, апартамент
							\item площ в квадратни метри
							\item тип на цената (месечен наем/цена за закупуване), валута (BGN, USD, EUR), цена
							\item тип на имота - апартамент, къща, гараж, парцел
							\item {специфични характеристики според типа:
								\begin{itemize}
									\item апартамент -- тип (едностаен, двустаен, тристаен, многостаен, мезонет, студио), етаж, изложение, година и тип на строителството, прилежащи имоти (мазета, гаражи) и общи части, обзавеждане, интернет, ТЕЦ, СОТ, телефон, ток, вода
									\item къща -- застроена и дворна площ, брой етажи, прилежащи имоти (мазета, гаражи),	обзавеждане, интернет, ТЕЦ, СОТ, телефон, ток, вода
									\item гараж -- ток, вода
									\item парцел -- тип(в регулация, земеделска земя), ток, вода
								\end{itemize}
							}
						\end{itemize}
					}
					\item текстово поле -- свободно описание на обявата, до 5 KB. Полето трябва да позволява въвеждането на символи за нов ред
					\item снимки и скици -- binary формат, до 20 броя общо, всяка с размер до 1 MB, минимум една снимка и една скица 
					\item географски данни, описващи точната локация (GPS координати)
					\item информация за наемодателя/продавача -- имена, телефон, email, текст
				\end{itemize}
				
				Информацията за наемодателя/продавача и детайлното местоположение е достъпна само за брокерите и администратора.
			}
			
			\item {Визуализация на обява

				При визуализация на детайлите на дадена обява, системата трябва да:
				\begin{itemize}
					\item визуално да разграничава нормалните от VIP обявите
					\item показва контактите на брокера, свързан с обявата
					\item предлага възможност за автоматично преизчисление на цената в алтернативна валута (BGN, USD, EUR).				Системата трябва да взима автоматично курса на БНБ.
					\item автоматично изчислява цена на квадратен метър (в текущо избраната валута)
					\item показва местоположението на обекта чрез Google Maps, на базата на GPS координатите му
					\item автоматично да преоразмерява снимките и скиците в thumbnail-и, които да показва, както и да дава възможност за разглеждане на оригиналните изображения			
				\end{itemize}
				
				Ако разглеждащият обявата е брокер или администратор, системата трябва да показва и информацията за наемодателя/продавача, както и детайлното местоположение на имота.
				
				Под детайлите на обявата системата трябва да предлага контактна форма за изпращане на съобщение до брокера. Формата има задължителни (име, email за обратна връзка, поле за свободен текст до 500 знака) и незадължителни (телефон за връзка) полета. Ако текущият потребител е регистриран, полетата email и телефон се попълват автоматично от системата с тези от профила на потребителя, като системата осигурява възможност на потребителя да ги редактира преди изпращане на съобщението. Изпращането на съобщения е еднопосочно - от потребители към брокер, и няма възможност за отговор през системата. Копие от всички изпратени през формата за контакт съобщения се изпраща до администратора.
			}

			\item {Система за търсене

Потребителите да могат да търсят обяви в системата по зададени критерии за търсене. Критериите се задават на етапи.
\begin{enumerate}[a) ]
\item Избор на населено място. Потребителят да може да избира населено място от списък  или, ако не е на мобилно устройство, от карта на страната. 

\item Квартал / район. От списък с районите за съответното населено място потребителят може да избира специфичен район, в който да търси обяви. Ако не е на мобилно устройство, може също да избира район карта на населеното място, което е избрал.

\item Избор на допълнителни параметри. Включват се всички характеристични полета с краен брой стойности. Потребителя да може да избира повече от едно поле.
\end{enumerate}

Да се предостави възможност за търсене по текст от полетата на обявите. Потребителят да може да въвежда свободен текст в поле за търсене. Търсенето се осъществява по всички видими за потребителя текстови полета на обявата (вкл. адрес, свободен текст към обявата и т.н.). Да се предостави възможност за връщане назад по стъпките и промяна на критериите и филтрите за търсене.

				\emph{Заб. Някои от полетата за търсене са приложими само за някои от типовете имоти.}

В резултата от търсенето да се изобрази списък от обяви, които отговарят на максимален брой полета от критериите и филтрите за търсене, които потребителят е задал.

Ако в резултатите има VIP обяви, то те да се показват с приоритет (преди останалите обяви), като се различават от останалите визуално. Няма ограничение за броя VIP обяви на страница.
			
			}
			
			\item {Чат
			
				Системата трябва да предоставя функционалност на нерегистрираните и регистрираните потребители да провеждат текстова комуникация в реално време с брокер. Потребителите могат да задават въпроси в чата, а брокерите, които са на работа наблюдават въпросите и отговарят на тях, като комуникацията е двустранна. Брокерите виждат само имената и въпросите на потребителите. Анонимните потребители трябва да предоставят име, което да използват в чата. Системата трябва да запазва историята на чат сесиите на регистираните потребители, и да им предоставя възможност да я разглеждат.
				
			}


			\item {Одит лог

				Системата трябва да поддържа одит лог, в който да записва всички действия на регистрирани потребители във системата. Логовете съдържат:
				\begin{itemize}
					\item дата и час на събитието
					\item извършител (username)
					\item от къде е извършено действието (IP адрес)
					\item тип на действието
					\item субект на действието
					\item старата и новата стойност на промененото поле, ако е парола - звездички
				\end{itemize}
  				Записват се всички промени върху потребителските профили и обявите, както и изпратените съобщения от контакт формата.
  				
 				 	Одит лога може да се чете само от одиторският акаунт, и не може да се променя от никого.
  				
  				Събитията, по-стари от 6 месеца се премахват от лога.
			}
			
			\item {Рейтингова система за брокерите и обявите

Всяка обява има собствен рейтинг по скалата от 0 до 5. Визуализира се заедно с обявата под формата на пет звезди, като част от тях са запълнени, съответно показващи текущия рейтинг на обявата.

Потребителите имат право да гласуват за обяви с оценки от 1 до 5. Изчислява се среден рейтинг на обявата спрямо събраната сума от всички гласувания, разделена на броя гласували.

Рейтинга на дадена обява не участва по никакъв начин в търсенето или сортирането на обяви. Служи само за визуализация. 

Брокерите също имат рейтинг, подобен на този на обявите. Потребителите могат да гласуват за брокер независимо от обявите му, както и могат да гласуват за обяви независимо от брокера. 

Няма връзка между рейтинга на обява и брокера, който я е пуснал. 

Брокерите и обявите започват с рейтинг 0, което означава, че никой не е гласувал за тях. 
			}
		\end{enumerate}
		
	}
	\item {Нефункционални изисквания
	
		Системата трябва да:
		\begin{itemize}
			\item е достъпна през уеб интерфейс
			\item поддържа около 100-150 посещения на ден
			\item поддържа 1000 регистрирани потребителя
			\item поддържа 400 активни обяви
			\item поддържа 10000 обяви общо (активни и неактивни)
			\item осигурява резултат при търсене до 3 секунди
			\item осигурява зареждане на страница за до 1-1.5 секунди
			\item поддържа паролите в криптиран вид
			\item може да работи върху GNU/Linux операционна система
			\item може да е в експлоатация 10 години
			\item има автоматичен онлайн бекъп не по-рядко от веднъж на 24 часа
			\item потребителските сесии в системата изтичат автоматично при 1 час неактивност на потребителя
		\end{itemize}
		
		Допустимият downtime на системата е не повече от 48 часа общо на година.
	}
	
	\item {Интеграция с външни системи

		Системата трябва да предлага възможност на потребителите (регистирани и нерегистрирани) да споделят дадена обява в социалните мрежи (Facebook, Twitter, Google+).

		Системата трябва да може да показва местоположението на даден имот в Google Maps на базата на GPS координатите в обявата.

		Системата трябва да поддържа възможност за Google Ads.

		Системата трябва да може автоматично да взима валутните курсове (BGN/USD/EUR) от БНБ.	
	}
	
	\item {Неизяснени въпроси
		\begin{enumerate}[1.]
			
\item Нерегистрирани потребители могат ли да рейтват брокери и обяви ?
\item Има ли информация в системата (и визуализира ли се някак) кой потребител какъв рейтинг е дал на дадена обява или брокер, или тази информация само се обобщава като рейтинг на обявата/брокера ?
			
		\end{enumerate}
	}
\end{enumerate}

\end{document}