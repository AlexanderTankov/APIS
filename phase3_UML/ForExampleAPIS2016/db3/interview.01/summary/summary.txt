
 - посочва темата на проекта и номера на екипа
			Информационна система на агенция за недвижими имоти
			екип 3.1

 - отбелязва времето, мястото и присъстващите от двете страни
			Петък, 18.03.2016, зали 01 
			16:00 - 17:30

			Георги Димов
			Цветан Цветанов
			Антон Дудов
			Венцислав Конов
			Александър Танков
			Красимир Тренчев
			Александър Велин
			Анджелика Туджарска
			Александър Бранев
			Мартин Стоев

			Борислав Арнаудов - собственик на стартираща агенция за недвижими имоти

 - описва накратко разискваните въпроси и получените отговори
 - поставя неизяснените въпроси

---------------

	Обща представа за системата

  Трябва да се проектира информационна система за стартираща агенция за недвижими имоти.
  Целта на информационната система е да осигури уеб интерфейс, чрез който брокерите могат
да управляват своите обяви за недвижими имоти, а клиентите на 
агенцията (наематели и купувачи) да намират обяви за имоти, отговарящи на критериите им,
както и да инициират комуникация с брокера. Връзката между продавачите и
наемодателите с брокер ще се осъществява извън рамките на системата.
  Всички счетоводни и финансови процеси в агенцията не са предмет на информационната система.

---------------
Системата трябва да поддържа както анонимен (публичен) достъп, така и достъп на потребители,
които имат създаден акаунт в системата. Всеки акаунт има следните данни:
	- username*
	- парола*
	- email*
	- име
	- телефон
	- снимка

Системата трябва да поддържа следните роли:

- нерегистриран потребител - има права да:
	- търси и разглежда обяви в сайта
	- споделя обяви в социалните мрежи
	- си регистрира акаунт
	- използва контакт формата за изпращане на съобщение към брокерите
	- използва чат системата, като не му се запазва log на разговора

- регистриран потребител - има права да:
	- търси и разглежда обяви в сайта
	- споделя обяви в социалните мрежи
	- използва контакт формата за изпращане на съобщение към брокерите
	- използва чат системата, като се запазва log на разговора
	- "запазва" обяви, които е харесал във профила си
	- променя личните си данни
	- поиска ресет на паролата си (новата му се изпраща на мейла)
	- подаде заявка, че иска да стане брокер

- брокер - има права да:
	- прави всички неща, които може регистриран потребител
	- създава, редактира и премахва обяви за имоти
	- променя състоянието на обяви (активни, неактивни, създадени)
	- променя статуса на обява (нормална, VIP)
	- комуникира през чат системата с други потребители, ако те са инициирали комуникацията
	- получава съобщения през контакт формата
	- разглежда обявите на другите брокери FIXME
	- вижда точният адрес на имота в обявите
	- вижда контактната информация за собствениците на имотите в обявите

- администратор (вграден в системата сервизен акаунт, единствен):
	- има права да променя личните си данни
	- има право да разглежда личните данни на потребителите (username, email, име, телефон, снимка)
	- няма право да променя личните данни на потребителите (username, парола, email, име, телефон, снимка)
	- има право да одобрява заявки на регистрирани потребители за промяна на статуса им към 'брокер'
	- има право да премахва статуса 'брокер' от акаунти
	- има право да премахва акаунти от системата, без сервизните такива
	- има право да премахва обяви FIXME реадктира?
	- получава копие от съобщенията, изпратени през контакт формата

- одитор (вграден в системата сервизен акаунт, единствен):
	- има право да чете одит лога

---------------
Обяви

Обявите се създават, редактират и премахват от брокер. 
Администраторът има право да редактира и премахва обявите на всички брокери. FIXME

Обявите могат да бъдат активни или неактивни, като обикновенните потребители
(нерегистрирани и регистрирани) виждат само активните обяви, докато 
неактивните обяви са видими само за брокерите и администратора.

Обявите могат да бъдат нормални или VIP. Този статус може да се променя само 
ръчно от брокерите (и администратора).

Обявите съдържат следните данни:
	- идентификатор на брокер
	- активна/неактивна обява 
	- нормална/VIP обява
	- характеристики на имота:
			- местоположение - град, квартал
			- детайлно местоположение - град, квартал, улица, номер, и ако е нужно вход, етаж, апартамент
			- площ в квадратни метри
			- обща цена и тип на валутата (BGN, USD, EUR)
			- тип на имота - апартамент, къща, гараж, парцел
			- специфични характеристики според типа:
				- апартамент - тип (едностаен, двустаен, тристаен, многостаен, мезонет, студио),
	етаж, изложение, година и тип на строителството, прилежащи имоти (мазета, гаражи) и общи части,
	обзавеждане, интернет, ТЕЦ, СОТ, телефон, ток, вода

				- къща - застроена и дворна площ, брой етажи, прилежащи имоти (мазета, гаражи),
	обзавеждане, интернет, ТЕЦ, СОТ, телефон, ток, вода

				- гараж - ток, вода
				- парцел - тип(в регулация, земеделска земя), ток, вода
	- текстово поле: свободно описание на обявата, до 5 KB
	- снимки и скици: binary формат, до 20 броя общо, всяка с размер до 1 MB 
	- географски данни, описващи точната локация (GPS координати)
	- информация за наемодателя/продавача - имена, телефон, email, текст

Информацията за наемодателя/продавача и детайлното местоположение е достъпна само за брокерите
и администратора.

---------------
Функционалности на системата

0. Визуализация на обява

		При визуализация на детайлите на дадена обява, системата трябва да:
			- визуално да разграничава нормалните от VIP обявите
			- показва контактите на брокера, свързан с обявата
			- предлага възможност за автоматично преизчисление на цената в алтернативна валута (BGN, USD, EUR)
				Системата трябва да взима автоматично курса на БНБ.
			- автоматично изчислява цена на квадратен метър (в текущо избраната валута)
			- показва местоположението на обекта чрез Google Maps, на базата на GPS координатите му

		Ако разглеждащият обявата е брокер или администратор, системата трябва да показва и:
			- информацията за наемодателя/продавача
			- детайлното местоположение

		Под детайлите на обявата системата трябва да предлага контактна форма за изпращане на съобщение до брокера.
		Тя има следните задължителни полета:
		  - име
		  - email за обратна връзка
		  - поле за свободен текст (FIXME размер?)
		както и незадължително поле за телефон.

		Ако текущият потребител е регистриран:
//		  - в изпратеното съобщение автоматично се добавя username-ът на потребителя FIXME
			- полетата email и телефон се попълват автоматично от системата с тези от 
			профила на потребителя, но той може да ги редактира преди изпращане на съобщението.

		Изпращането на съобщения е еднопосочно - от потребители към брокер, и няма възможност за отговор през системата.		
		Копие от всички изпратени през формата за контакт съобщения се изпраща до администратора.

		FIXME съобщения при брокера - описание?

// В брокерския акаунт има лист от обяви, свързани с него и отделно секция с известия от изпратени контакт форми.
// Като всяка от формите в профила му има hyperlink, който води до съответната обява от списъка с обяви.

1. Търсене

		Потребителите да могат да търсят обяви в системата по текст и/или зададени филтри. // FIXME търсене текст
		Филтри могат да бъдат всички характеристични полета на обявата. 
		Забележка: някои видове характеристики са валидни само за някои видове имоти.

		В резултата от търсенето, обявите тип VIP се показват с приоритет (преди останалите),
		като се разграничават от тях визуално. Няма ограничение за броя VIP обяви, които да излизат на страница.

2. Чат - FIXME

Системата трябва да предоставя функционалност на нерегистрираните и регистрираните потребители да провеждат текстова
комуникация в реално време с брокер. Потребителите могат да задават въпроси в чата, а брокерите, които са на работа наблюдават въпросите и отговарят на тях, като комуникацията е двустранна. Брокерите виждат само имената и въпросите на потребителите.
Анонимните потребители трябва да предоставят име, което да използват в чата. Системата трябва да запазва историята
на чат сесиите на регистираните потребители, и да им предоставя възможност да я разглеждат.

3. Одит лог

	Системата трябва да поддържа одит лог, в който да записва всички действия на регистрирани потребители във системата.
	Логовете съдържат:
		- дата и час на събитието
		- извършител (username)
		- от къде е извършено действието (IP адрес)
		- тип на действието
		- субект на действието

  Записват се всички промени върху потребителските профили и обявите.
	Одит лога може да се чете само от одиторският акаунт, и не може да се променя от никого.

	FIXME: живот на лога, etc. ?

---------------------

Нефункционални изисквания (Ограничения)

	Системата трябва да:
		- interface
			- е достъпна през уеб интерфейс

		- performance
			- поддържа около 100-150 посещения на ден
			- поддържа 1000 регистрирани потребителя
			- поддържа 400 активни обяви
			- поддържа 10000 обяви общо (активни и неактивни)
			- осигурява резултат при търсене до 3 секунди
			- осигурява зареждане на страница за до 1-1.5 секунди

		- security
			- поддържа паролите в криптиран вид FIXME: offline ?
			- FIXME лични данни -- кой кого ?

		- implementation
			- може да работи върху GNU/Linux операционна система
			- може да е в експлоатация 10 години
			- има автоматичен онлайн бекъп не по-рядко от веднъж на 24 часа

	Допустимият downtime на системата е не повече от 48 часа общо на година.


---------------------

6. Интеграция с външни системи

	Системата трябва да предлага възможност на потребителите (регистирани и нерегистрирани)
да споделят дадена обява в социалните мрежи (Facebook, Twitter, Google+).

	Системата трябва да може да показва местоположението на даден имот в Google Maps
на базата на GPS координатите в обявата.

	Системата трябва да поддържа възможност за Google Ads.

	Системата трябва да може автоматично да взима валутните курсове (BGN/USD/EUR) от БНБ.















